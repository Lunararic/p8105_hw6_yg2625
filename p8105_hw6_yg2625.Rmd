---
title: "p8105_hw6_yg2625"
author: "Yue Gu"
date: "November 25, 2018"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Library
```{r, message = F}
library(tidyverse)
```

# Problem 1
## Import data
```{r}
homi_raw = read_csv("https://raw.githubusercontent.com/washingtonpost/data-homicides/master/homicide-data.csv")
head(homi_raw, 10)
```

## Data manipulation
* Create a city_state variable, and a binary variable
* Omit cities Dallas, TX; Phoenix, AZ; and Kansas City, MO; Tulsa, AL
* Modifiy victim_race to have categories white and non-white
* Transform victim_age as numeric
```{r, message = FALSE}
homi_create = 
  homi_raw %>% 
  mutate(city_state = paste(city, state, sep = ", "),
         solved = ifelse(disposition == "Closed without arrest" | disposition == "Open/No arrest", 0, 1)) %>% 
  filter(city_state != "Dallas, TX" , city_state != "Phoenix, AZ", city_state != "Kansas City, MO", city_state != "Tulsa, AL") %>% 
  mutate(victim_race = ifelse(victim_race == "White", "white", "nonwhite"),
         victim_age = as.numeric(victim_age))

class(homi_raw$victim_age)

```
As required, binary variable *solved* has value 0 if the case is unsolved, has value 1 if the case is solved and *victim_age* is numeric.

